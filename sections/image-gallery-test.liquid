{%- style -%}
.image-gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center; /* Centers images in each row */
  gap: 20px; /* Adjust spacing between images */
}

.gallery-item {
  max-width: 100%; /* Ensures images donâ€™t overflow */
}

.gallery-item img {
  display: block;
  max-width: 100%; /* Ensures responsiveness */
  height: auto;
}
{%- endstyle -%}


<div class="image-gallery">
  {% for block in section.blocks %}
    <div class="gallery-item">
      {% if block.settings.image %}
        <img 
          src="{{ block.settings.image | img_url: 'large' }}" 
          alt="{{ block.settings.image.alt | escape }}"
          width="{{ block.settings.width | default: block.settings.image.width }}" 
          height="{{ block.settings.height | default: block.settings.image.height }}"
        >
      {% else %}
        <p>No image selected</p>
      {% endif %}
    </div>
  {% endfor %}
</div>

{% schema %}
  {
    "name": "Image Gallery",
    "tag": "section",
    "max_blocks": 6,
    "settings": [],
    "blocks": [
      {
        "type": "image",
        "name": "Gallery Image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Select an image"
          },
          {
            "type": "range",
            "id": "width",
            "label": "Custom Width (px)",
            "min": 100,
            "max": 500,
            "default": 100,
            "step": 10
          },
          {
            "type": "range",
            "id": "height",
            "label": "Custom Height (px)",
            "min": 100,
            "max": 500,
            "default": 100,
            "step": 10
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Image Gallery",
        "blocks": [
          {
            "type": "image"
          },
          {
            "type": "image"
          }
        ]
      }
    ]
  }
  {% endschema %}